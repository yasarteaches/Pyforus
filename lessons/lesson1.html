<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Lesson 1 ‚Äì Introduction to Python</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Firebase Integration -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-auth.js";
    import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBjYAj4uJglYqy5m37ikkXzJeJO_mP7eAo",
      authDomain: "pyforus-4289e.firebaseapp.com",
      projectId: "pyforus-4289e",
      storageBucket: "pyforus-4289e.appspot.com",
      messagingSenderId: "798083294290",
      appId: "1:798083294290:web:c19d4c169c451410062b8b"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    onAuthStateChanged(auth, async (user) => {
      if (!user) {
        window.location.href = "../login.html";
      } else {
        const uid = user.uid;
        const docRef = doc(db, "progress", uid);
        const docSnap = await getDoc(docRef);

        if (docSnap.exists()) {
          const data = docSnap.data();
          localStorage.setItem("completedLessons", JSON.stringify(data.completedLessons || []));
          localStorage.setItem("completedAssignments", JSON.stringify(data.completedAssignments || []));
        }
      }
    });

    window.markLessonComplete = async function () {
      const user = auth.currentUser;
      if (!user) return alert("You must be logged in.");

      const uid = user.uid;
      let completed = JSON.parse(localStorage.getItem('completedLessons')) || [];
      if (!completed.includes('lesson1')) {
        completed.push('lesson1');
        localStorage.setItem('completedLessons', JSON.stringify(completed));
      }   

      let assignments = JSON.parse(localStorage.getItem('completedAssignments')) || [];
      if (!assignments.includes('lesson1')) {
        assignments.push('lesson1');
        localStorage.setItem('completedAssignments', JSON.stringify(assignments));
      }

      await setDoc(doc(db, "progress", uid), {
        completedLessons: completed,
        completedAssignments: assignments
      });

      alert('Lesson 1 marked as complete! ‚úÖ');
    }

    window.markAssignmentComplete = async function () {
      const user = auth.currentUser;
      if (!user) return alert("You must be logged in.");
      const uid = user.uid;

      let assignments = JSON.parse(localStorage.getItem("completedAssignments")) || [];
      if (!assignments.includes("lesson1")) {
        assignments.push("lesson1");
        localStorage.setItem("completedAssignments", JSON.stringify(assignments));

        let completed = JSON.parse(localStorage.getItem("completedLessons")) || [];
        await setDoc(doc(db, "progress", uid), {
          completedLessons: completed,
          completedAssignments: assignments
        });

        alert("Assignment marked as complete! ‚úÖ");
      } else {
        alert("You already completed this assignment.");
      }
    }
  </script>
</head>
<body class="bg-white text-gray-900 p-6 max-w-3xl mx-auto">

  <h1 class="text-3xl font-bold mb-4">üêç Lesson 1: Introduction to Python</h1>

  <p class="mb-6 text-gray-800">
    Welcome to your first step into the world of Python! Python is one of the most popular and beginner-friendly programming languages used in fields ranging from web development and automation to data science, AI, and robotics. It is known for its simple and readable syntax, making it an ideal choice for newcomers.
  </p>

  <div class="mb-6">
    <h2 class="text-xl font-semibold mb-2">üìò Why Python?</h2>
    <ul class="list-disc list-inside text-gray-800">
      <li>Easy to read and write</li>
      <li>Large community and lots of tutorials</li>
      <li>Used by companies like Google, Netflix, and NASA</li>
      <li>Works across platforms (Windows, Mac, Linux)</li>
    </ul>
  </div>

  <div class="mb-6">
    <h2 class="text-xl font-semibold mb-2">üß† What Will You Learn?</h2>
    <p>In this lesson, you will:</p>
    <ul class="list-disc list-inside text-gray-800">
      <li>Write and run your first Python program</li>
      <li>Understand basic concepts like output and variables</li>
      <li>Use strings and numbers</li>
      <li>Get ready for interactive Python lessons ahead!</li>
    </ul>
  </div>

  <h2 class="text-xl font-semibold mb-2">üéØ Learning Objectives</h2>
  <ul class="list-disc list-inside mb-6 text-gray-800">
    <li>Understand what Python is and where it‚Äôs used.</li>
    <li>Write and run your first Python program.</li>
    <li>Use the <code>print()</code> function to display output.</li>
    <li>Understand strings, numbers, and basic variables.</li>
  </ul>

  <h2 class="text-xl font-semibold mb-2">üíª Code Examples</h2>
  <pre class="bg-gray-100 p-4 rounded mb-6 text-sm overflow-x-auto"><code># This is a comment
print("Hello, world!")

# Variables
name = "Ali"
age = 16
print(name)
print(age)</code></pre>

  <div class="mb-6">
    <h2 class="text-xl font-semibold mb-2">üìå More Examples</h2>
    <p class="mb-2">You can also do math with Python:</p>
    <pre class="bg-gray-100 p-4 rounded text-sm overflow-x-auto"><code>print(3 + 2)      # Addition
print(10 - 4)     # Subtraction
print(6 * 7)      # Multiplication
print(20 / 5)     # Division</code></pre>

    <p class="mt-4 mb-2">And combine text using variables:</p>
    <pre class="bg-gray-100 p-4 rounded text-sm overflow-x-auto"><code>greeting = "Hi"
name = "Ali"
print(greeting + ", " + name + "!")</code></pre>
  </div>

  <h2 class="text-xl font-semibold mb-2">üìù Your Assignment</h2>
  <p class="mb-4">Write a Python program that prints your name and your favorite number. Here's a starter:</p>
  <pre class="bg-gray-100 p-4 rounded text-sm overflow-x-auto"><code># Your code here:
print("My name is ___")
print("My favorite number is ___")</code></pre>

  <button id="completeBtn" class="bg-green-600 text-white px-4 py-2 mt-6 rounded hover:bg-green-700" onclick="markLessonComplete()">
    ‚úÖ Mark Lesson as Complete
  </button>

  <button id="markAssignmentBtn" onclick="markAssignmentComplete()" class="bg-purple-600 text-white px-4 py-2 mt-4 rounded hover:bg-purple-700">
    üìù Mark Assignment as Complete
  </button>

  <a href="../dashboard.html" class="block mt-4 text-blue-600 underline">‚Üê Back to Dashboard</a>

  <footer class="text-center text-sm text-gray-500 mt-10 border-t pt-4">
    <strong>Disclaimer:</strong><br>
    Pyforus is an educational platform designed to help learners explore Python programming through custom lessons and curated resources. This site includes embedded videos from Khan Academy solely for educational purposes. Pyforus does not claim ownership of any video content provided by Khan Academy and does not monetize, alter, or redistribute their material in any form.<br><br>
    Khan Academy is a nonprofit organization that offers free educational resources to learners worldwide. All rights to the embedded videos, trademarks, and related content remain the exclusive property of Khan Academy. We strongly encourage users to visit and support Khan Academy directly at <a href="https://www.khanacademy.org" class="underline text-blue-600">www.khanacademy.org</a>.
    <br />
    <a href="https://github.com/yasarteaches/Pyforus/blob/main/LICENSE" class="text-blue-600 underline" target="_blank">
      üìÑ View Site License
    </a>
  </footer>

</body>
</html>
