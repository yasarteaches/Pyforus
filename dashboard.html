<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pyforus Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800 min-h-screen font-sans">
  <div class="max-w-3xl mx-auto p-6">
    <h1 class="text-4xl font-bold mb-6">ğŸ“˜ Your Python Progress</h1>
    <div id="lessonList" class="space-y-4"></div>
  </div>

  <script>
  const lessons = [
  { id: 'lesson1', title: 'Lesson 1: Introduction to Python', url: 'lessons/lesson1.html' },
  { id: 'lesson2', title: 'Lesson 2: Control Flow (if/else)', url: 'lessons/lesson2.html' },
  { id: 'lesson3', title: 'Lesson 3: Loops (for & while)', url: 'lessons/lesson3.html' },
  { id: 'lesson4', title: 'Lesson 4: Functions', url: 'lessons/lesson4.html' },
  { id: 'quiz1to4', title: 'Quiz: Lessons 1â€“4', url: 'lessons/lesson1-4-quiz.html' },
  { id: 'lesson5', title: 'Lesson 5: Drawing with Turtle', url: 'lessons/lesson5.html' },
  { id: 'lesson6', title: 'Lesson 6: Data & Lists', url: 'lessons/lesson6.html' },
  { id: 'lesson7', title: 'Lesson 7: Dictionaries & Advanced Structures', url: 'lessons/lesson7.html' }
];


  const completed = JSON.parse(localStorage.getItem('completedLessons')) || [];
  const assignments = JSON.parse(localStorage.getItem('completedAssignments')) || [];
  const storedScore = localStorage.getItem('quiz1to4Score');
  const score = storedScore !== null ? parseInt(storedScore) : null;


  const list = document.getElementById('lessonList');

  lessons.forEach((lesson, index) => {
    let isUnlocked = false;

    if (index === 0) {
      isUnlocked = true;
    } else if (lesson.id === 'lesson5') {
      // Lesson 5 unlock logic: quiz must be completed and score >= 60
      isUnlocked = completed.includes('quiz1to4') && score >= 60;
    } else {
      isUnlocked = completed.includes(lessons[index - 1].id);
    }

    const isDone = completed.includes(lesson.id);

    const item = document.createElement('div');
    item.className = 'bg-white p-4 rounded shadow flex justify-between items-center';

    item.innerHTML = `
      <div>
        <h2 class="text-xl font-semibold">${lesson.title}</h2>
        ${lesson.id === 'quiz1to4' && score !== null ? `<p class="text-sm text-gray-600">ğŸ“Š Previous Score: ${score}%</p>` : ''}
        ${lesson.id.startsWith('lesson') ? `
          <p class="text-sm ${assignments.includes(lesson.id) ? 'text-green-600' : 'text-red-500'}">
            ${assignments.includes(lesson.id) ? 'ğŸ“ Assignment complete' : 'ğŸ“ Assignment not done yet'}
          </p>` : ''}
      </div>
      <div>
        <a href="${isUnlocked ? lesson.url : '#'}" class="px-4 py-2 rounded text-white ${
          isUnlocked
            ? isDone
              ? 'bg-green-600'
              : 'bg-blue-600 hover:bg-blue-700'
            : 'bg-gray-400 cursor-not-allowed'
        }">
          ${
            isUnlocked
              ? isDone
                ? 'âœ… Completed'
                : 'Start'
              : 'ğŸ”’ Locked'
          }
        </a>
      </div>
    `;

    list.appendChild(item);
  });
</script>
<footer class="text-center text-sm text-gray-500 mt-10 border-t pt-4">
  Disclaimer:
  Pyforus is an educational platform designed to help learners explore Python programming through custom lessons and curated resources. This site includes embedded videos from Khan Academy solely for educational purposes. Pyforus does not claim ownership of any video content provided by Khan Academy and does not monetize, alter, or redistribute their material in any form.

  Khan Academy is a nonprofit organization that offers free educational resources to learners worldwide. All rights to the embedded videos, trademarks, and related content remain the exclusive property of Khan Academy. We strongly encourage users to visit and support Khan Academy directly at www.khanacademy.org.


</footer>
</body>
</html>
